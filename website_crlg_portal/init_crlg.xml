<?xml version="1.0" encoding="utf-8" ?>
<!--
##############################################################################
#
#    Copyright (c) 2023 ito-invest.lu
#                       Jerome Sonnet <jerome.sonnet@ito-invest.lu>
#
#    This program is free software: you can redistribute it and/or modify
#    it under the terms of the GNU Affero General Public License as
#    published by the Free Software Foundation, either version 3 of the
#    License, or (at your option) any later version.
#
#    This program is distributed in the hope that it will be useful,
#    but WITHOUT ANY WARRANTY; without even the implied warranty of
#    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#    GNU Affero General Public License for more details.
#
#    You should have received a copy of the GNU Affero General Public License
#    along with this program.  If not, see <http://www.gnu.org/licenses/>.
#
##############################################################################
-->
<odoo>
        <function model="website" name="init_crlg" />
        <function model="res.company" name="init_crlg_social_medias" />

        <!-- Initialisation des colonnes en db des points de menu  -->
        <function model="website.menu" name="init_crlg_menu" />

        <!-- Template page  -->
		<template id="valves_etudiants_crlg" name="Valves étudiants">
            <t t-call="website.layout">
                <div id="wrap" class="oe_structure oe_empty" />
            </t>
        </template>

        <!-- Template page  -->
		<template id="valves_professeurs_crlg" name="Valves professeurs">
            <t t-call="website.layout">
                <div id="wrap" class="oe_structure oe_empty" />
            </t>
        </template>

        <!-- Création page Valves Étudiants en db  -->
        <record id="page_valves_etudiants_crlg" model="website.page">
            <field name="name">Valves étudiants</field>
            <field name="website_published">True</field>
            <field name="url">/etudiants-info</field>
            <field name="view_id" ref="website_crlg_portal.valves_etudiants_crlg" />
            <field name="website_indexed">False</field>
        </record>

        <!-- Ajout des droits de la page Valves Étudiants en db  -->
        <record id="valves_etudiants_crlg" model="ir.ui.view">
            <field name="visibility">restricted_group</field>
            <field
            name="groups_id"
            eval="[(4, ref('school_management.group_student')), (4, ref('school_management.group_teacher')), (4, ref('school_management.group_employee'))]"
        />
        </record>

        <!-- Création page Valves Professeurs en db  -->
        <record id="page_valves_professeurs_crlg" model="website.page">
            <field name="name">Valves professeurs</field>
            <field name="website_published">True</field>
            <field name="url">/professeurs-info</field>
            <field name="view_id" ref="website_crlg_portal.valves_professeurs_crlg" />
            <field name="website_indexed">False</field>
        </record>

        <!-- Ajout des droits de la page Valves Professeurs en db  -->
        <record id="valves_professeurs_crlg" model="ir.ui.view">
            <field name="visibility">restricted_group</field>
            <field
            name="groups_id"
            eval="[(4, ref('school_management.group_teacher')), (4, ref('school_management.group_employee'))]"
        />
        </record>
</odoo>
