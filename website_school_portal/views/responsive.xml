<?xml version="1.0" encoding="utf-8"?>
<!--
##############################################################################
#
#    Copyright (c) 2023 ito-invest.lu
#                       Jerome Sonnet <jerome.sonnet@ito-invest.lu>
#
#    This program is free software: you can redistribute it and/or modify
#    it under the terms of the GNU Affero General Public License as
#    published by the Free Software Foundation, either version 3 of the
#    License, or (at your option) any later version.
#
#    This program is distributed in the hope that it will be useful,
#    but WITHOUT ANY WARRANTY; without even the implied warranty of
#    GNU Affero General Public License for more details.
#
#    You should have received a copy of the GNU Affero General Public License
#    along with this program.  If not, see <http://www.gnu.org/licenses/>.
#
##############################################################################
-->
<odoo>

    <template id="hz_blocs" name="Mon programme individuel">
        <t t-call="website.layout">
                <div class="container">
                    <span class="subheading-span d-block text-danger text-uppercase font-weight-bold mb-3 mb-md-4 pb-md-2 mb-xl-4 pb-xl-2">PROGRAMME ANNUEL</span>
                    <!-- accordion section -->
                    <section class="accordion-section pt-md-1 d-evaluation" t-foreach="blocs" t-as="bloc">
                        <h2 class="mb-0 mb-1"><t t-esc="bloc.source_bloc_speciality_id.name"/></h2>
                        <span class="below-heading d-block text-info"><t t-esc="bloc.source_bloc_section_id.name"/> / <t t-esc="bloc.source_bloc_track_id.name"/></span>
                        <!-- accordion head -->
                        <ul class="ul-head-row d-flex list-unstyled">
                            <li>
                                <span class="d-block">CODE UE</span>
                            </li>
                            <li>
                                <span class="d-block">Unités d’enseignement</span>
                            </li>
                            <li>
                                <span class="d-block">ECTS</span>
                            </li>
                            <li class="d-none d-md-block">
                                <span class="d-block">heures</span>
                            </li>
                            <li class="d-none d-md-block">
                                <span class="d-block">pondération</span>
                            </li>
                            <li class="" t-if="display_results == 'True'">
                                <span class="d-block">évaluation</span>
                            </li>
                        </ul>
                        <!-- accordion -->
                        <ul class="accordion slide ul-row list-unstyled mb-0">
                            <!-- accordion item -->
                            <li class="d-flex flex-wrap align-items-start w-100" t-foreach="bloc.course_group_ids" t-as="course_group">
                                <ul class="ul-body-row d-flex list-unstyled mb-0">
                                    <li>
                                        <span class="d-block"><t t-esc="course_group.uid"/></span>
                                    </li>
                                    <li>
                                        <span class="d-block">
                                            <a class="link" t-att-href="'/course_group/%s' % course_group.source_course_group_id.id">
                                                <t t-esc="course_group.title"/>
                                            </a>
                                        </span>
                                    </li>
                                    <li>
                                        <span class="d-block"><t t-esc="course_group.total_credits"/></span>
                                    </li>
                                    <li class="d-none d-md-block">
                                        <span class="d-block"><t t-esc="course_group.total_hours"/></span>
                                    </li>
                                    <li class="d-none d-md-block">
                                        <span class="d-block"><!--<t t-esc="course_group.weight"/>--></span>
                                    </li>
                                    <li t-if="display_results == 'True'">
                                        <span class="d-block"><t t-if="display_results == 'True'" t-esc="course_group.final_result_disp"/></span>
                                    </li>
                                </ul>
                                <a class="opener" href="#">
                                    <span class="plus"></span>
                                </a>
                                <div class="slide w-100 js-acc-hidden">
                                    <ul class="ul-slide-row d-flex list-unstyled mb-0" t-foreach="course_group.course_ids" t-as="course">
                                        <li>
                                            <span class="d-block"><p/></span>
                                        </li>
                                        <li>
                                            <span class="d-inline-block">
                                                <a class="link" t-att-href="'/course/%s' % course.source_course_id.id"><t t-esc="course.title"/><span>›</span></a>
                                            </span>
                                        </li>
                                        <li>
                                            <span class="d-block"><t t-esc="course.credits"/></span>
                                        </li>
                                        <li class="d-none d-md-block">
                                            <span class="d-block"><t t-esc="course.hours"/></span>
                                        </li>
                                        <li class="d-none d-md-block">
                                            <span class="d-block"><t t-esc="course.weight"/></span>
                                        </li>
                                        <li t-if="display_results == 'True'">
                                            <span class="d-block" t-if="not course.first_session_result and not course.second_session_result">-</span>
                                            <span class="d-block" t-if="course.first_session_result and not course.second_session_result"><t t-if="display_results == 'True'" t-esc="course.first_session_result_disp"/></span>
                                            <span class="d-block" t-if="course.second_session_result"><t t-if="display_results == 'True'" t-esc="course.second_session_result_disp"/></span>
                                        </li>
                                    </ul>
                                </div>
                            </li>
                        </ul>
                    </section>
                </div>
        </t>
    </template>

    <template id="hz_documents" name="Mes documents">
            <t t-call="website.layout">
                <div class="container">
						<span class="subheading-span d-block text-danger text-uppercase font-weight-bold mb-3 mb-md-4 pb-md-2 mb-xl-4 pb-xl-2">DOCUMENTS</span>
						<!-- accordion section -->
						<section class="pt-md-1" t-foreach="official_document_ids" t-as="doc">
							<a t-att-href="'/web/content/%i?download=true' % doc.online_attachment_id.id">
								<span class="fa fa-download"><span style="padding:10px;"><t  t-esc="doc.name"/></span></span>
							</a>
						</section>
						<span class="subheading-span d-block text-danger text-uppercase font-weight-bold mt-3 mt-md-4 mb-3 mb-md-4 pb-md-2 mb-xl-4 pb-xl-2">ATTESTATIONS</span>
						<section class="pt-md-1" t-foreach="blocs" t-as="bloc">
							<a t-att-href="'/report/pdf/school_management.report_attendance_for_student_content/%i' % bloc.id">
								<span class="fa fa-download"><span style="padding:10px;">Fréquentation - <t  t-esc="bloc.source_bloc_id.name"/></span></span>
							</a>
						</section>
    			</div>
    		</t>
    	</template>

</odoo>